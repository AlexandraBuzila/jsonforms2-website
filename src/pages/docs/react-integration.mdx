---
name: React Integration
route: /docs/react
---

import Note from './components/Note';

# React Integration

As of version 2.3.0, JSON Forms can be used as a standalone component.
For the legacy Redux integration, see [here](/docs/redux).

The `JsonForms` component takes the following props:

- [`schema`](#schema): The JSON schema that describes the underlying data
- [`uischema`](#uischema): The UI schema that describes how the form should be rendered. If none is provided a default layout is used
- [`data`](#data): The data to be rendered
- [`renderers`](#renderers): The renderers that should be used for rendering the form
- [`cells`](#cells): The cells that should be used for rendering the form
- [`onChange`](#onchange): A callback which is called on each data change, containing the updated data and the validation result.
  Please make sure to not create a "data cycle", the updated data doesn't need to be provided back to JSON Forms.
- [`config`](#config): The default options element for all ui schema elements
- [`uischemas`](#uischemas): A list of UI schemas to be used for specific schema elements
- [`readonly`](#readonly): If set to _true_, the component will be rendered in its disabled state.

```
<JsonForms
  schema={schema}
  uischema={uischema}
  data={data}
  renderers={materialRenderers}
  cells={materialCells}
  onChange={({ errors, data }) => setData(data)}
/>
```

## `schema`

The schema prop expects a [JSON Schema value](https://json-schema.org/) describing the underlying data for the form.
If the schema is not provided, JSON Forms can generate one for you, as long as an `uischema` or `data` prop is available.
You can see a generated schema example in [our Examples section](../examples/gen-both-schemas).
The generated schema is useful for rapid prototyping, but generally it is preferred to provide your own schema.

An example schema would look like this:

```
const schema = {
  type: 'object',
  properties: {
    name: {
      type: 'string',
      minLength: 1,
    },
    description: {
      type: 'string',
    },
    done: {
      type: 'boolean',
    },
    due_date: {
      type: 'string',
      format: 'date',
    },
    rating: {
      type: 'integer',
      maximum: 5,
    },
    recurrence: {
      type: 'string',
      enum: ['Never', 'Daily', 'Weekly', 'Monthly'],
    },
    recurrence_interval: {
      type: 'integer',
    },
  },
  required: ['name', 'due_date'],
};
```

## `uischema`

The `uischema` prop is a JSON describing the layout of the form. It can contain different UI schema elements, such as layouts
and controls as well as rules for dynamically controlling different features of the UI elements based on data.
You can find more information on the different UI elements and rules [here](/docs/uischema).

If no UI schema is provided, JSON Forms will generate one for you. You can find an example
of a generated UI schema in [our Examples section](../examples/gen-uischema).

An example UI schema for the schema defined above would look like this:

```
{
  "type": "VerticalLayout",
  "elements": [
    {
      "type": "Control",
      "label": false,
      "scope": "#/properties/done"
    },
    {
      "type": "Control",
      "scope": "#/properties/name"
    },
    {
      "type": "HorizontalLayout",
      "elements": [
        {
          "type": "Control",
          "scope": "#/properties/due_date"
        },
        {
          "type": "Control",
          "scope": "#/properties/rating"
        }
      ]
    },
    {
      "type": "Control",
      "scope": "#/properties/description",
      "options": {
        "multi": true
      }
    },
    {
      "type": "HorizontalLayout",
      "elements": [
        {
          "type": "Control",
          "scope": "#/properties/recurrence"
        },
        {
          "type": "Control",
          "scope": "#/properties/recurrence_interval",
          "rule": {
            "effect": "HIDE",
            "condition": {
              "type": "LEAF",
              "scope": "#/properties/recurrence",
              "expectedValue": "Never"
            }
          }
        }
      ]
    }
  ]
}
```

## `data`

The `data` prop represents an object containing the data to be rendered in the form.

<Note
  title='ATTENTION'
  body='Never update the data prop except when you intentionally want to set new data.'
/>

The data given to JSON Forms should only be updated when necessary, for example, when clearing a form:

```jsx
import React, { useState, useEffect } from 'react';
import { JsonForms } from '@jsonforms/react';
import schema from './schema.json';
import uischema from './uischema.json';
import {
  materialCells,
  materialRenderers,
} from '@jsonforms/material-renderers';
import { Button } from '@material-ui/core';

const data = {
  name: 'Send email to Adrian',
  description: 'Confirm if you have passed the subject\nHereby ...',
  done: true,
  recurrence: 'Daily',
  rating: 3,
};

const ClearFormExample = () => {
  const [displayDataAsString, setDisplayDataAsString] = useState('');
  const [jsonformsOutputData, setJsonformsOutputData] = useState < any > data;
  const [jsonformsInputData, setJsonformsInputData] = useState < any > data;

  useEffect(() => {
    setDisplayDataAsString(JSON.stringify(jsonformsOutputData, null, 2));
  }, [jsonformsOutputData]);
  return (
    <div>
      <pre id='boundData'>{displayDataAsString}</pre>
      <JsonForms
        schema={schema}
        uischema={uischema}
        data={jsonformsInputData}
        renderers={materialRenderers}
        cells={materialCells}
        onChange={({ data }) => setJsonformsOutputData(data)}
      />
      <Button onClick={() => setJsonformsInputData({})} color='primary'>
        Clear form data
      </Button>
    </div>
  );
};
```

You should _never_ refeed JSON Forms with the data received from its `onChange` handler:

```jsx
const data = {
  name: 'Send email to Adrian',
  description: 'Confirm if you have passed the subject\nHereby ...',
  done: true,
  recurrence: 'Daily',
  rating: 3,
};

const DoNotDoThis = () => {
  const [standaloneData, setStandaloneData] = useState < any > data;

  return (
    <JsonForms
      schema={schema}
      uischema={uischema}
      data={standaloneData}
      renderers={materialRenderers}
      cells={materialCells}
      onChange={({ data }) => {
        // Do not do this
        // we modify the standaloneData, which we also pass to the data prop
        setStandaloneData(data);
      }}
    />
  );
};
```

## `renderers`

With the `renderers` prop you can supply the renderers that should be used for rendering the form.
You can choose one of the [renderer sets](/docs/renderer-sets) already provided by JSON Forms or supply [your own renderers](/docs/custom-renderers).

## `cells`

While the renderers supplied via the `renderers` prop are responsible for rendering the contents of the form,
table controls use a special set of renderers for their cells, which can be provided via the `cells` prop.
You can use the cell renderers provided by one of the available [renderer sets](/docs/renderer-sets) or supply [your own custom ones](/docs/custom-renderers).

## `onChange`

A callback which is called on each data change, containing the updated data and the validation result. JSON Forms will immediately produce
an event with the results of the initial validation, even before the inputs of the form are changed.

<Note
  title='ATTENTION'
  body='You should never use the onChange handler to update the data prop, except when you intentionally want to set new data.'
/>

Please refer to the information in the [data](#data) section above about correctly using the `onChange` handler to update the form data.

## `config`

You can configure some options available for all UI schema elements via the `config` prop:

- `restrict`: _boolean_ value specifying whether the number of characters should be restricted to 'maxLength' for inputs, if specified in the JSON schema
- `trim`: _boolean_ value specifying whether the input width should be resized to 'maxLength', if specified in the JSON schema
- `showUnfocusedDescription`: _boolean_ value specifying whether the input descriptions should hide when the input is not focused
- `hideRequiredAsterisk`: _boolean_ value specifying whether the asterisks shown in labels for required fields should be hidden

The default config used by JSON Forms looks like this:

```
defaultConfigOptions = {
 restrict: false,
 trim: false,
 showUnfocusedDescription: false,
 hideRequiredAsterisk: false
}
```

## `uischemas`

The `uischemas` prop can be used to register a list of UI schema and tester pairs that will be used for specific schema elements, e.g. for the detail of an element with detail.

## `readonly`

If set to _true_, the component will be rendered in its disabled state. The data in the form can be viewed, but it cannot be edited.
